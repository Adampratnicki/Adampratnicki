function t_initZoom(){0===$(".t-zoomer__wrapper").length&&(window.tzoominited=!0,window.tzoomopenonce=!1,window.isDoubletapScaleAdded=!1,$('[data-zoomable="yes"]:not(.t-slds__thumbs_gallery):not([data-img-zoom-url=""])').addClass("t-zoomable"),$("body").append('<div class="t-zoomer__wrapper"><div class="t-zoomer__container"></div><div class="t-zoomer__bg"></div><div class="t-zoomer__close"><svg width="20" height="20" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.41421 -0.000151038L0 1.41406L21.2132 22.6273L22.6274 21.2131L1.41421 -0.000151038Z" fill="black"/><path d="M22.6291 1.41421L21.2148 0L0.00164068 21.2132L1.41585 22.6274L22.6291 1.41421Z" fill="black"/></svg></div></div>'),$(".t-zoomer__wrapper").append('<div class="t-zoomer__scale showed"><svg class="icon-increase" width="20" height="20" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22.832 22L17.8592 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.58591 3.7511C0.917768 7.41924 0.917768 13.367 4.58591 17.0352C8.25405 20.7033 14.2019 20.7033 17.87 17.0352C21.5381 13.367 21.5381 7.41924 17.87 3.7511C14.2019 0.0829653 8.25405 0.0829653 4.58591 3.7511Z" stroke="black" stroke-width="2"/><path d="M6.25781 10.3931H16.2035" stroke="black" stroke-width="2"/><path d="M11.2305 15.3662V5.42053" stroke="black" stroke-width="2"/></svg><svg class="icon-decrease" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.9961 22L17.0233 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.74997 3.7511C0.0818308 7.41924 0.0818308 13.367 3.74997 17.0352C7.41811 20.7033 13.3659 20.7033 17.0341 17.0352C20.7022 13.367 20.7022 7.41924 17.0341 3.7511C13.3659 0.0829653 7.41811 0.0829653 3.74997 3.7511Z" stroke="black" stroke-width="2"/><path d="M5.41797 10.3931H15.3637" stroke="black" stroke-width="2"/></svg></div>'),$(".r").on("click",'.t-zoomable:not([data-img-zoom-url=""])',t_zoomHandler),$(".r").on("click",".t-slds__thumbs_gallery",t_zoomHandler),$(".t-zoomer__close, .t-zoomer__bg").click((function(){var isPopupShown;t_zoom_close(),0!=$(document).find(".t-popup_show").length&&$(document).keydown((function(e){27==e.keyCode&&void 0!==window.t_store_closePopup&&t_store_closePopup(!1)}))})))}function t_zoomHandler(){$("body").addClass("t-zoomer__show"),$(".t-zoomer__container").html('<div class="t-carousel__zoomed"><div class="t-carousel__zoomer__slides"><div class="t-carousel__zoomer__inner"><div class="t-carousel__zoomer__track"></div></div><div class="t-carousel__zoomer__control t-carousel__zoomer__control_left" data-zoomer-slide="prev"><div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_left"><div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_left t-carousel__zoomer__arrow_small"></div></div></div><div class="t-carousel__zoomer__control t-carousel__zoomer__control_right" data-zoomer-slide="next"><div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_right"><div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_right t-carousel__zoomer__arrow_small"></div></div></div></div></div>');var id=$(this).closest(".r").attr("id"),parentBlock=$("#"+id),images=parentBlock.find(".t-zoomable:not(.t-slds__thumbs_gallery):not(.tn-atom__slds-img)");if($("#"+id).find(".t-slds").length){var slider=$(this).closest(".t-slds");slider.length&&(images=slider.find(".t-zoomable:not(.t-slds__thumbs_gallery)"))}var sliderTrack=$(".t-carousel__zoomer__track");images.each((function(i,image){var imgtitle="",imgdescr="",titlebody="",descrbody="",images_urls=$(image).attr("data-img-zoom-url").split(",");($(image).is("img")||$(image).is("div"))&&(imgtitle=$(image).attr("title")||"",imgdescr=$(image).attr("data-img-zoom-descr")||""),""!==imgtitle&&(titlebody='<div class="t-zoomer__title t-name t-descr_xxs">'+imgtitle+"</div>"),""!==imgdescr&&(descrbody='<div class="t-zoomer__descr t-descr t-descr_xxs">'+imgdescr+"</div>"),sliderTrack.append('<div class="t-carousel__zoomer__item"><div class="t-carousel__zoomer__wrapper"><img class="t-carousel__zoomer__img" src="'+images_urls+'"></div><div class="t-zoomer__comments">'+titlebody+descrbody+"</div></div>")})),t_zoom_setModalColor(parentBlock);var modal=$(".t-zoomer__wrapper"),slideItems=$(".t-carousel__zoomer__item"),imageBordersWidth=modal.height()-slideItems.height(),maxCommentsHeight=0,zoomerComments=slideItems.find(".t-zoomer__comments");zoomerComments.each((function(i,comment){var zoomerTitle=$(comment).find(".t-zoomer__title"),zoomerDescr=$(comment).find(".t-zoomer__descr");(""===zoomerTitle&&""===zoomerDescr||!zoomerTitle.length&&!zoomerDescr.length)&&$(comment).css("padding","0");var commentHeight=$(comment).innerHeight();maxCommentsHeight=maxCommentsHeight>commentHeight?maxCommentsHeight:commentHeight})),zoomerComments.css("height",maxCommentsHeight);var zoomedImages=slideItems.find(".t-carousel__zoomer__img"),arrowWrappers=$(".t-carousel__zoomer__arrow__wrapper");if(zoomedImages.css("max-height","calc(100vh - "+(maxCommentsHeight+imageBordersWidth)+"px"),-1!==zoomedImages.attr("src").indexOf(".svg")){var winWidth=$(window).width();zoomedImages.css("width",winWidth)}arrowWrappers.css("top","calc(50% - "+maxCommentsHeight/2+"px)");var target_url=$(this).attr("data-img-zoom-url"),target_img,targetItem=$('.t-carousel__zoomer__img[src="'+target_url+'"]').closest(".t-carousel__zoomer__item");if(slideItems.each((function(index,item){$(item).attr("data-zoomer-slide-number",index)})),slideItems.length>1&&t_zoom_loopSlider(),void 0!==targetItem.position()){var targetPosition=targetItem.position().left;targetItem.addClass("active"),sliderTrack.css({transition:"none",transform:"translateX("+-targetPosition+"px)"})}setTimeout((function(){sliderTrack.css("transition","")})),$(".t-carousel__zoomer__control_right").click((function(){"y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("next"),t_zoom_checkForScale()})))})),$(".t-carousel__zoomer__control_left").click((function(){"y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()})))})),$(document).unbind("keydown"),$(document).keydown((function(e){var isPopupShown;(37==e.keyCode&&"y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()}))),39==e.keyCode&&"y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout((function(){t_zoom_showSlide("next"),t_zoom_checkForScale()}))),27==e.keyCode)&&(t_zoom_close(),$(document).find(".t-popup_show").length>0&&$(document).keydown((function(e){27==e.keyCode&&t_store_closePopup(!1)})))}));var slides_count=$(".t-carousel__zoomer__item").size();$("body").addClass("t-zoomer__show_fixed"),1==slides_count&&$(".t-carousel__zoomer__control").css("display","none"),$(".t-carousel__zoomer__inner").click((function(){window.isMobile||($(this).hasClass("scale-active")?t_zoom_unscale():window.isMobile||t_zoom_close())})),t_zoom_checkForScale(),t_zoom_lockScroll(),t_zoom_initSwipe(),t_zoom_initCloseSwipe(),t_zoom_initResizeListener(),window.tzoomopenonce=!0,window.isMobile&&(t_zoom_setHideControlsTimer(),modal.on("touchstart touchmove touchend mousemove",t_zoom_setHideControlsTimer))}function t_zoom_initSwipe(){var slideItems=$(".t-carousel__zoomer__item"),sliderTrack=$(".t-carousel__zoomer__track"),modal=$(".t-zoomer__wrapper");if(slideItems.length>1){var hammer=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),sliderTrackPosition,isScaled=!1;hammer.on("panstart",(function(){"y"!==sliderTrack.attr("data-on-transition")?(sliderTrackPosition=sliderTrack.position().left,sliderTrack.css("transition","none")):sliderTrackPosition=null,isScaled=1!==window.visualViewport.scale||modal.hasClass("scale-active")})),hammer.on("panmove",(function(event){var deltaX;if("y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&1===event.maxPointers&&!isScaled&&(Math.abs(event.deltaX)>40&&sliderTrack.attr("data-on-drag","y"),sliderTrackPosition)){var newTrackPosition=sliderTrackPosition+event.deltaX;sliderTrack.css("transform","translateX("+newTrackPosition+"px)")}})),window.tzoomopenonce||hammer.on("panend",(function(event){var sliderTrack=$(".t-carousel__zoomer__track");if(sliderTrack.attr("data-on-drag",""),"y"!==sliderTrack.attr("data-on-transition")&&"y"!==modal.attr("data-on-drag")&&1===event.maxPointers&&!isScaled){sliderTrack.css("transition","");var velocity=Math.abs(event.velocityX),sliderTrackOffset=sliderTrack.position().left,slideItem,slideWidth=$(".t-carousel__zoomer__item").width(),targetSlideOffset=sliderTrack.find(".t-carousel__zoomer__item.active").position().left,distance,transitionTime=(slideWidth-Math.abs(sliderTrackOffset+targetSlideOffset))/velocity/1e3;transitionTime=transitionTime>.6?.6:transitionTime<.2?.2:transitionTime,sliderTrack.css("transition-duration",transitionTime+"s"),event.velocityX<-.5||event.deltaX<-80?(t_zoom_unscale(),t_zoom_showSlide("next"),t_zoom_checkForScale()):event.velocityX>.5||event.deltaX>80?(t_zoom_unscale(),t_zoom_showSlide("prev"),t_zoom_checkForScale()):t_zoom_showSlide()}}))}}function t_zoom_showSlide(direction){var sliderTrack=$(".t-carousel__zoomer__track"),slideItems=sliderTrack.find(".t-carousel__zoomer__item"),targetItem,currentSlideIndex=sliderTrack.find(".t-carousel__zoomer__item.active").index();"next"===direction&&(currentSlideIndex=(currentSlideIndex+1)%slideItems.length,sliderTrack.attr("data-on-transition","y")),"prev"===direction&&(currentSlideIndex=(slideItems.length+(currentSlideIndex-1))%slideItems.length,sliderTrack.attr("data-on-transition","y"));var trackPosition=slideItems.eq(currentSlideIndex).position().left;slideItems.removeClass("active").eq(currentSlideIndex).addClass("active"),sliderTrack.css("transform","translateX("+-trackPosition+"px")}function t_zoom_transitForLoop(side){var $sliderTrack=$(".t-carousel__zoomer__track"),$slideItems=$(".t-carousel__zoomer__item"),currentSlideIndex,slideOffset;if(!side)return 1;"start"===side&&(currentSlideIndex=$slideItems.length-2),"end"===side&&(currentSlideIndex=1),slideOffset=$slideItems.eq(currentSlideIndex).position().left,$slideItems.removeClass("active").eq(currentSlideIndex).addClass("active"),$sliderTrack.css({transition:"none",transform:"translateX("+-slideOffset+"px)"}),setTimeout((function(){$sliderTrack.css("transition","")}))}function t_zoom_loopSlider(){var sliderTrack=$(".t-carousel__zoomer__track"),sliderItems=sliderTrack.find(".t-carousel__zoomer__item"),firstSlideCopy=sliderItems.eq(0).clone(),lastSlideCopy=sliderItems.eq(sliderItems.length-1).clone();sliderTrack.prepend(lastSlideCopy).append(firstSlideCopy);var slidesCount=sliderTrack.find(".t-carousel__zoomer__item").length;sliderTrack.on("transitionend webkitTransitionEnd oTransitionEnd",(function(){var currentSlideIndex=sliderTrack.find(".active").index();0===currentSlideIndex&&t_zoom_transitForLoop("start"),currentSlideIndex===slidesCount-1&&t_zoom_transitForLoop("end"),sliderTrack.attr("data-on-transition","")}))}function t_zoom_initCloseSwipe(){var hammer=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_VERTICAL}]]}),modal=$(".t-zoomer__wrapper"),sliderTrack=$(".t-carousel__zoomer__track"),isScaled=!1,modalPosition;hammer.on("panstart",(function(){modalPosition=modal.position().top,modal.css("transition","none"),isScaled=1!==window.visualViewport.scale||modal.hasClass("scale-active")})),hammer.on("panmove",(function(event){var deltaY=Math.abs(event.deltaY);if(("y"!==sliderTrack.attr("data-on-drag")||"y"===modal.attr("data-on-drag"))&&(event.angle>-120&&event.angle<-60||event.angle<120&&event.angle>60)&&1===event.maxPointers&&!isScaled){deltaY>40&&modal.attr("data-on-drag","y");var newTrackPosition=modalPosition+event.deltaY;modal.css("transform","translateY("+newTrackPosition+"px)")}})),hammer.on("panend",t_zoom_closeSwipeHandler)}function t_zoom_closeSwipeHandler(event){var modal=$(".t-zoomer__wrapper"),closeAnimationTime=300,isScaled=1!==window.visualViewport.scale||modal.hasClass("scale-active");modal.css("transition","transform 300ms ease-out"),Math.abs(event.deltaY)<40&&modal.css("transform",""),"y"!==modal.attr("data-on-drag")||1!==event.maxPointers||isScaled||(event.deltaY<-200||event.velocityY<-.3?(modal.css("transform","translateY(-100vh)"),setTimeout((function(){t_zoom_close(),modal.css("transform","")}),300)):event.deltaY>200||event.velocityY>.3?(modal.css("transform","translateY(100vh)"),setTimeout((function(){t_zoom_close(),modal.css("transform","")}),300)):modal.css("transform","")),modal.attr("data-on-drag","")}function t_zoom_checkForScale(){var eventAdded=!1,zoomedImage=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img:not(.loaded)");if(zoomedImage.length&&(zoomedImage.load((function(){if(!eventAdded)return $(window).width()<zoomedImage[0].naturalWidth||$(window).height()<zoomedImage[0].naturalHeight?(zoomedImage.addClass("loaded"),window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),void t_zoom_scale_init()):void 0})),zoomedImage[0].complete&&!eventAdded)){if(eventAdded=!0,$(window).width()<zoomedImage[0].naturalWidth||$(window).height()<zoomedImage[0].naturalHeight)return window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),void t_zoom_scale_init();$(".t-zoomer__scale").css("display","")}}function t_zoom_scale_init(){$(".t-zoomer__scale").css("display","block"),"y"!==$(".t-zoomer__scale").attr("data-zoom-scale-init")&&($(".t-zoomer__scale").attr("data-zoom-scale-init","y"),$(".t-zoomer__wrapper").on("click",".t-zoomer__scale",(function(event){$(".t-carousel__zoomer__track").attr("data-on-transition","");var zoomedImage=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),zoomedWrapper=$(".t-zoomer__wrapper"),zoomerInner=$(".t-carousel__zoomer__inner"),zoomerTrack=$(".t-carousel__zoomer__track");zoomedImage.css("max-height",""),zoomerTrack.css({transition:"none",transform:"none"}),zoomedWrapper.hasClass("scale-active")?t_zoom_unscale():(zoomedWrapper.addClass("scale-active"),zoomerInner.addClass("scale-active"),window.isMobile?t_zoom_mobileZoomPositioningInit(zoomedImage):t_zoom_desktopZoomPositioningInit(zoomedImage,event))})))}function t_zoom_doubletapScaleInit(){var hammer;window.isDoubletapScaleAdded=!0,new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Tap]]}).on("tap",(function(e){if(2===e.tapCount&&$("body").hasClass("t-zoomer__show")&&!e.target.closest(".t-carousel__zoomer__control")){var zoomedImage=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),zoomedWrapper=$(".t-zoomer__wrapper"),zoomerInner=$(".t-carousel__zoomer__inner"),zoomerTrack=$(".t-carousel__zoomer__track");zoomedImage.css("max-height",""),zoomerTrack.css({transition:"none",transform:"none"}),zoomedWrapper.hasClass("scale-active")?t_zoom_unscale():(zoomedWrapper.addClass("scale-active"),zoomerInner.addClass("scale-active"),t_zoom_mobileZoomPositioningInit(zoomedImage))}}))}function t_zoom_desktopZoomPositioningInit(zoomedImage,event){var leftCoordinate=($(window).width()-zoomedImage.width())/2,topCoordinate=($(window).height()-zoomedImage.height())/2,clientYpercent,imageYpx,clientXpercent,imageXpx;zoomedImage.css({left:leftCoordinate,top:topCoordinate}),$(window).width()<zoomedImage[0].naturalWidth&&(clientXpercent=100*event.clientX/$(window).width(),imageXpx=-clientXpercent*(zoomedImage.width()-$(window).width())/100,zoomedImage.css("left",imageXpx+"px"),zoomedImage.on(window.isMobile?"touchmove":"mousemove",(function(e){clientXpercent=100*(void 0!==e.originalEvent.touches?e.originalEvent.touches[0].clientX:e.clientX)/$(window).width(),imageXpx=-clientXpercent*(zoomedImage.width()-$(window).width())/100,zoomedImage.css("left",imageXpx+"px")}))),$(window).height()<zoomedImage[0].naturalHeight&&(clientYpercent=100*event.clientY/$(window).height(),imageYpx=-clientYpercent*(zoomedImage.height()-$(window).height())/100,zoomedImage.css("top",imageYpx+"px"),zoomedImage.on(window.isMobile?"touchmove":"mousemove",(function(e){clientYpercent=100*(void 0!==e.originalEvent.touches?e.originalEvent.touches[0].clientY:e.clientY)/$(window).height(),imageYpx=-clientYpercent*(zoomedImage.height()-$(window).height())/100,zoomedImage.css("top",imageYpx+"px")})))}function t_zoom_mobileZoomPositioningInit(zoomedImage){var leftCoordinate=($(window).width()-zoomedImage.width())/2,topCoordinate=($(window).height()-zoomedImage.height())/2;zoomedImage.css({left:leftCoordinate,top:topCoordinate});var currentPosition={x:0,y:0},startTouchPosition={},currentTranslate={};zoomedImage.on("touchstart",(function(event){startTouchPosition=t_zoom_getTouchEventXY(event)})),zoomedImage.on("touchmove",(function(event){var currentTouchPosition=t_zoom_getTouchEventXY(event),moveVelocity=1.5,imageOffsetX=1.5*(currentTouchPosition.x-startTouchPosition.x),imageOffsetY=1.5*(currentTouchPosition.y-startTouchPosition.y);currentTranslate.x=currentPosition.x+imageOffsetX,currentTranslate.y=currentPosition.y+imageOffsetY,currentTranslate.x>-leftCoordinate&&(currentTranslate.x=-leftCoordinate),currentTranslate.x<leftCoordinate&&(currentTranslate.x=leftCoordinate),currentTranslate.y>-topCoordinate&&(currentTranslate.y=-topCoordinate),currentTranslate.y<topCoordinate&&(currentTranslate.y=topCoordinate),zoomedImage.css("transform","translate("+currentTranslate.x+"px, "+currentTranslate.y+"px)")})),zoomedImage.on("touchend touchcancel",(function(){currentPosition.x=currentTranslate.x,currentPosition.y=currentTranslate.y}))}function t_zoom_getTouchEventXY(event){var coordinates={x:0,y:0};if("touchstart"==event.type||"touchmove"==event.type||"touchend"==event.type||"touchcancel"==event.type){var touch=event.originalEvent.touches[0]||event.originalEvent.changedTouches[0];coordinates.x=touch.pageX,coordinates.y=touch.pageY}return coordinates}function t_zoom_close(){t_zoom_unscale(),$("body").removeClass("t-zoomer__show t-zoomer__show_fixed"),$(document).unbind("keydown"),t_zoom_unlockScroll()}function t_zoom_unscale(){$(".t-zoomer__wrapper.scale-active, .t-carousel__zoomer__inner").removeClass("scale-active");var zoomedItem=$(".t-carousel__zoomer__item.active"),zoomedImage=zoomedItem.find(".t-carousel__zoomer__img"),zoomerTrack=$(".t-carousel__zoomer__track"),modal,imageBordersWidth=$(".t-zoomer__wrapper").height()-zoomedItem.height(),zoomerComments,height=$(zoomedItem).find(".t-zoomer__comments").innerHeight();if(zoomedImage.off("mousemove touchmove").css({transform:"",left:"",top:"",maxHeight:"calc(100vh - "+(imageBordersWidth+height)+"px"}),void 0!==zoomedItem.position()){var trackPosition=zoomedItem.position().left;zoomerTrack.css("transform","translateX("+-trackPosition+"px)")}setTimeout((function(){zoomerTrack.css("transition","")}),10)}function t_zoom_lockScroll(){var isAndroid=/(android)/i.test(navigator.userAgent);if((window.isiOS&&!window.MSStream||isAndroid)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||isAndroid)&&(11===window.isiOSVersion[0]||isAndroid)){var body=$("body");if(!body.hasClass("t-body_scroll-locked")){var bodyScrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;body.addClass("t-body_scroll-locked"),body.css("top","-"+bodyScrollTop+"px"),body.attr("data-popup-scrolltop",bodyScrollTop)}}}function t_zoom_unlockScroll(){var isAndroid=/(android)/i.test(navigator.userAgent);if((window.isiOS&&!window.MSStream||isAndroid)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||isAndroid)&&(11===window.isiOSVersion[0]||isAndroid)){var body=$("body");if(body.hasClass("t-body_scroll-locked")){var bodyScrollTop=$("body").attr("data-popup-scrolltop");body.removeClass("t-body_scroll-locked"),body.css("top",""),body.removeAttr("data-popup-scrolltop"),window.scrollTo(0,bodyScrollTop)}}}function t_zoom_initResizeListener(){var debouncedResizeHandler=t_throttle(t_zoom_resizeHandler,300);$(window).on("resize",debouncedResizeHandler)}function t_zoom_resizeHandler(){var sliderTrack=$(".t-carousel__zoomer__track"),activeSlidePosition=sliderTrack.find(".t-carousel__zoomer__item.active").position().left;sliderTrack.css("transform","translateX("+-activeSlidePosition+"px)")}function t_zoom_onFuncLoad(funcName,okFunc,time){"function"==typeof window[funcName]?okFunc():setTimeout((function checkFuncExist(){if("function"!=typeof window[funcName]){if("complete"===document.readyState&&"function"!=typeof window[funcName])throw new Error(funcName+" is undefined");setTimeout(checkFuncExist,time||100)}else okFunc()}))}function t_zoom_setModalColor(parent){var COLOR_WHITE="#ffffff",COLOR_BLACK="#000000",parentBGColor=parent.attr("data-bg-color")?parent.attr("data-bg-color"):"#ffffff";parentBGColor=t_zoom_hexToRgb(parentBGColor);var modalContainer=$(".t-zoomer__container"),modalSvg=$(".t-zoomer__wrapper svg"),modalPath=modalSvg.find("path"),controlsBG=$(".t-zoomer__close, .t-zoomer__scale"),arrowsWrapper=modalContainer.find(".t-carousel__zoomer__arrow__wrapper"),modalTextColor,controlsBGColor,modalBGColor="black"===t_zoom_luma_rgb(parentBGColor)?"#000000":"#ffffff";"#000000"===modalBGColor?(modalTextColor="#ffffff",controlsBGColor="rgba(1, 1, 1, 0.3)",arrowsWrapper.addClass("t-carousel__zoomer__arrow__wrapper_dark")):(modalTextColor="#000000",controlsBGColor="rgba(255, 255, 255, 0.3)",arrowsWrapper.removeClass("t-carousel__zoomer__arrow__wrapper_dark")),controlsBG.css("background",controlsBGColor),modalContainer.css({"background-color":modalBGColor,color:modalTextColor}),modalSvg.each((function(_,svg){$(svg).attr("fill")})),modalPath.each((function(_,path){$(path).attr("stroke")&&$(path).attr("stroke",modalTextColor),$(path).attr("fill")&&$(path).attr("fill",modalTextColor)})),$(".t-zoomer__title, .t-zoomer__descr").css("color",modalTextColor)}function t_zoom_luma_rgb(color){var isArray=Array.isArray(color);if(void 0===color)return"black";if(0!=color.indexOf("rgb")&&!isArray)return"black";var rgb=isArray?color:color.split("(")[1].split(")")[0].split(",");return rgb.length<3?"black":.2126*rgb[0]+.7152*rgb[1]+.0722*rgb[2]<128?"black":"white"}function t_zoom_hexToRgb(hex){var shorthandRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;hex=hex.replace(shorthandRegex,(function(m,r,g,b){return r+r+g+g+b+b}));var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex),aaa=result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null;return result?[aaa.r,aaa.g,aaa.b]:null}function t_zoom_setHideControlsTimer(){var controls=$(".t-carousel__zoomer__arrow__wrapper, .t-zoomer__scale");controls.removeClass("t-zoomer__hide-animation"),setTimeout((function(){controls.addClass("t-zoomer__hide-animation")}))}$(document).ready((function(){window.tzoominited||t_zoom_onFuncLoad("t_initZoom",(function(){t_initZoom()}))}));